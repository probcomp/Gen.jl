<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Generative Combinators · Gen.jl</title><meta name="title" content="Generative Combinators · Gen.jl"/><meta property="og:title" content="Generative Combinators · Gen.jl"/><meta property="twitter:title" content="Generative Combinators · Gen.jl"/><meta name="description" content="Documentation for Gen.jl."/><meta property="og:description" content="Documentation for Gen.jl."/><meta property="twitter:description" content="Documentation for Gen.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><script src="../../../assets/header.js"></script><link href="../../../assets/header.css" rel="stylesheet" type="text/css"/><link href="../../../assets/theme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Gen.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../getting_started/linear_regression/">Example 1: Linear Regression</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Basics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../modeling_in_gen/">Introduction to Modeling in Gen</a></li><li><a class="tocitem" href="../gfi/">Generative Function Interface</a></li><li class="is-active"><a class="tocitem" href>Generative Combinators</a><ul class="internal"><li><a class="tocitem" href="#Map-combinator"><span>Map combinator</span></a></li><li><a class="tocitem" href="#Unfold-combinator"><span>Unfold combinator</span></a></li><li><a class="tocitem" href="#Switch-combinator"><span>Switch combinator</span></a></li></ul></li><li><a class="tocitem" href="../particle_filter/">Object Tracking with Particle Filters</a></li><li><a class="tocitem" href="../vi/">Variational Inference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Advanced</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../trace_translators/">Trace Translators</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Model Optmizations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_optimizations/scaling_with_sml/">Speeding Inference with the Static Modeling Language</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">How-to Guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../how_to/mcmc_kernels/">MCMC Kernels</a></li><li><a class="tocitem" href="../../../how_to/custom_distributions/">Custom Distributions</a></li><li><a class="tocitem" href="../../../how_to/custom_dsl/">Custom Modeling Languages</a></li><li><a class="tocitem" href="../../../how_to/custom_derivatives/">Custom Gradients</a></li><li><a class="tocitem" href="../../../how_to/custom_incremental_computation/">Incremental Computation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Modeling Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../api/model/gfi/">Generative Functions</a></li><li><a class="tocitem" href="../../../api/model/distributions/">Probability Distributions</a></li><li><a class="tocitem" href="../../../api/model/choice_maps/">Choice Maps</a></li><li><a class="tocitem" href="../../../api/model/modeling/">Built-in Modeling Languages</a></li><li><a class="tocitem" href="../../../api/model/combinators/">Combinators</a></li><li><a class="tocitem" href="../../../api/model/selections/">Selections</a></li><li><a class="tocitem" href="../../../api/model/parameter_optimization/">Optimizing Trainable Parameters</a></li><li><a class="tocitem" href="../../../api/model/trace_translators/">Trace Translators</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Inference Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../api/inference/importance/">Importance Sampling</a></li><li><a class="tocitem" href="../../../api/inference/map/">MAP Optimization</a></li><li><a class="tocitem" href="../../../api/inference/mcmc/">Markov chain Monte Carlo</a></li><li><a class="tocitem" href="../../../api/inference/map/">MAP Optimization</a></li><li><a class="tocitem" href="../../../api/inference/pf/">Particle Filtering</a></li><li><a class="tocitem" href="../../../api/inference/vi/">Variational Inference</a></li><li><a class="tocitem" href="../../../api/inference/learning/">Learning Generative Functions</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Explanation and Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../explanations/language_implementation/">Modeling Language Implementation</a></li><li><a class="tocitem" href="../../../explanations/combinator_design/">Combinator Design and Implementation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Basics</a></li><li class="is-active"><a href>Generative Combinators</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Generative Combinators</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/probcomp/Gen.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/probcomp/Gen.jl/blob/master/docs/src/tutorials/basics/combinators.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="combinators_tutorial"><a class="docs-heading-anchor" href="#combinators_tutorial">Generative Combinators</a><a id="combinators_tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#combinators_tutorial" title="Permalink"></a></h1><p>Generative function combinators are Julia functions that take one or more generative functions as input and return a new generative function. Generative function combinators are used to express patterns of repeated computation that appear frequently in generative models. Some generative function combinators are similar to higher order functions from functional programming languages.</p><h2 id="Map-combinator"><a class="docs-heading-anchor" href="#Map-combinator">Map combinator</a><a id="Map-combinator-1"></a><a class="docs-heading-anchor-permalink" href="#Map-combinator" title="Permalink"></a></h2><p>In the schematic below, the kernel is denoted <span>$\mathcal{G}_{\mathrm{k}}$</span>.</p><div style="text-align:center">
    <img src="./images/map_combinator.png" alt="schematic of map combinator" width="50%"/>
</div><p>For example, consider the following generative function, which makes one random choice at address <code>r^2</code>:</p><pre><code class="language-julia hljs">using Gen
@gen function foo(x, y, z)
    r ~ normal(x^2 + y^2 + z^2, 1.0)
    return r
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Any, Any, Any], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing], Main.var&quot;##foo#276&quot;, Bool[0, 0, 0], false)</code></pre><p>We apply the map combinator to produce a new generative function <code>bar</code>:</p><pre><code class="language-julia hljs">bar = Map(foo)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Map{Any, Gen.DynamicDSLTrace}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Any, Any, Any], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing], Main.var&quot;##foo#276&quot;, Bool[0, 0, 0], false))</code></pre><p>We can then obtain a trace of <code>bar</code>:</p><pre><code class="language-julia hljs">trace, _ = generate(bar, ([0.0, 0.5], [0.5, 1.0], [1.0, -1.0]))
trace</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Gen.VectorTrace{Gen.MapType, Any, Gen.DynamicDSLTrace}(Map{Any, Gen.DynamicDSLTrace}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Any, Any, Any], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing], Main.var&quot;##foo#276&quot;, Bool[0, 0, 0], false)), Gen.DynamicDSLTrace[Gen.DynamicDSLTrace{DynamicDSLFunction{Any}}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Any, Any, Any], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing], Main.var&quot;##foo#276&quot;, Bool[0, 0, 0], false), Trie{Any, Gen.ChoiceOrCallRecord}(Dict{Any, Gen.ChoiceOrCallRecord}(:r =&gt; Gen.ChoiceOrCallRecord{Float64}(0.5102699241218409, -1.1925388257840261, NaN, true)), Dict{Any, Trie{Any, Gen.ChoiceOrCallRecord}}()), false, -1.1925388257840261, 0.0, (0.0, 0.5, 1.0), 0.5102699241218409), Gen.DynamicDSLTrace{DynamicDSLFunction{Any}}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Any, Any, Any], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing], Main.var&quot;##foo#276&quot;, Bool[0, 0, 0], false), Trie{Any, Gen.ChoiceOrCallRecord}(Dict{Any, Gen.ChoiceOrCallRecord}(:r =&gt; Gen.ChoiceOrCallRecord{Float64}(3.795322514504554, -2.1129493701220117, NaN, true)), Dict{Any, Trie{Any, Gen.ChoiceOrCallRecord}}()), false, -2.1129493701220117, 0.0, (0.5, 1.0, -1.0), 3.795322514504554)], Any[0.5102699241218409, 3.795322514504554], ([0.0, 0.5], [0.5, 1.0], [1.0, -1.0]), 2, 2, -3.3054881959060376, 0.0)</code></pre><p>This causes <code>foo</code> to be invoked twice, once with arguments <code>(0.0, 0.5, 1.0)</code> in address namespace <code>1</code> and once with arguments <code>(0.5, 1.0, -1.0)</code> in address namespace <code>2</code>.</p><pre><code class="language-julia hljs">get_choices(trace)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">│
├── 1
│   │
│   └── :r : 0.5102699241218409
│
└── 2
    │
    └── :r : 3.795322514504554
</code></pre><p>If the resulting trace has random choices: then the return value is:</p><pre><code class="language-julia hljs">get_retval(trace)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Persistent{Any}[0.5102699241218409, 3.795322514504554]</code></pre><h2 id="Unfold-combinator"><a class="docs-heading-anchor" href="#Unfold-combinator">Unfold combinator</a><a id="Unfold-combinator-1"></a><a class="docs-heading-anchor-permalink" href="#Unfold-combinator" title="Permalink"></a></h2><p>In the schematic below, the kernel is denoted <span>$\mathcal{G}_{\mathrm{k}}$</span>. The initial state is denoted <span>$y_0$</span>, the number of applications is <span>$n$</span>, and the remaining arguments to the kernel not including the state, are <span>$z$</span>.</p><div style="text-align:center">
    <img src="./images/unfold_combinator.png" alt="schematic of unfold combinator" width="70%"/>
</div><p>For example, consider the following kernel, with state type <code>Bool</code>, which makes one random choice at address <code>:z</code>:</p><pre><code class="language-julia hljs">using Gen
@gen function foo(t::Int, y_prev::Bool, z1::Float64, z2::Float64)
    y = @trace(bernoulli(y_prev ? z1 : z2), :y)
    return y
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Int64, Bool, Float64, Float64], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing, nothing], Main.var&quot;##foo#277&quot;, Bool[0, 0, 0, 0], false)</code></pre><p>We apply the map combinator to produce a new generative function <code>bar</code>:</p><pre><code class="language-julia hljs">bar = Unfold(foo)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Unfold{Any, Gen.DynamicDSLTrace}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Int64, Bool, Float64, Float64], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing, nothing], Main.var&quot;##foo#277&quot;, Bool[0, 0, 0, 0], false))</code></pre><p>We can then obtain a trace of <code>bar</code>:</p><pre><code class="language-julia hljs">trace, _ = generate(bar, (5, false, 0.05, 0.95))
trace</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Gen.VectorTrace{Gen.UnfoldType, Any, Gen.DynamicDSLTrace}(Unfold{Any, Gen.DynamicDSLTrace}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Int64, Bool, Float64, Float64], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing, nothing], Main.var&quot;##foo#277&quot;, Bool[0, 0, 0, 0], false)), Gen.DynamicDSLTrace[Gen.DynamicDSLTrace{DynamicDSLFunction{Any}}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Int64, Bool, Float64, Float64], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing, nothing], Main.var&quot;##foo#277&quot;, Bool[0, 0, 0, 0], false), Trie{Any, Gen.ChoiceOrCallRecord}(Dict{Any, Gen.ChoiceOrCallRecord}(:y =&gt; Gen.ChoiceOrCallRecord{Bool}(true, -0.05129329438755058, NaN, true)), Dict{Any, Trie{Any, Gen.ChoiceOrCallRecord}}()), false, -0.05129329438755058, 0.0, (1, false, 0.05, 0.95), true), Gen.DynamicDSLTrace{DynamicDSLFunction{Any}}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Int64, Bool, Float64, Float64], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing, nothing], Main.var&quot;##foo#277&quot;, Bool[0, 0, 0, 0], false), Trie{Any, Gen.ChoiceOrCallRecord}(Dict{Any, Gen.ChoiceOrCallRecord}(:y =&gt; Gen.ChoiceOrCallRecord{Bool}(false, -0.05129329438755058, NaN, true)), Dict{Any, Trie{Any, Gen.ChoiceOrCallRecord}}()), false, -0.05129329438755058, 0.0, (2, true, 0.05, 0.95), false), Gen.DynamicDSLTrace{DynamicDSLFunction{Any}}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Int64, Bool, Float64, Float64], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing, nothing], Main.var&quot;##foo#277&quot;, Bool[0, 0, 0, 0], false), Trie{Any, Gen.ChoiceOrCallRecord}(Dict{Any, Gen.ChoiceOrCallRecord}(:y =&gt; Gen.ChoiceOrCallRecord{Bool}(true, -0.05129329438755058, NaN, true)), Dict{Any, Trie{Any, Gen.ChoiceOrCallRecord}}()), false, -0.05129329438755058, 0.0, (3, false, 0.05, 0.95), true), Gen.DynamicDSLTrace{DynamicDSLFunction{Any}}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Int64, Bool, Float64, Float64], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing, nothing], Main.var&quot;##foo#277&quot;, Bool[0, 0, 0, 0], false), Trie{Any, Gen.ChoiceOrCallRecord}(Dict{Any, Gen.ChoiceOrCallRecord}(:y =&gt; Gen.ChoiceOrCallRecord{Bool}(false, -0.05129329438755058, NaN, true)), Dict{Any, Trie{Any, Gen.ChoiceOrCallRecord}}()), false, -0.05129329438755058, 0.0, (4, true, 0.05, 0.95), false), Gen.DynamicDSLTrace{DynamicDSLFunction{Any}}(DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Int64, Bool, Float64, Float64], false, Union{Nothing, Some{Any}}[nothing, nothing, nothing, nothing], Main.var&quot;##foo#277&quot;, Bool[0, 0, 0, 0], false), Trie{Any, Gen.ChoiceOrCallRecord}(Dict{Any, Gen.ChoiceOrCallRecord}(:y =&gt; Gen.ChoiceOrCallRecord{Bool}(true, -0.05129329438755058, NaN, true)), Dict{Any, Trie{Any, Gen.ChoiceOrCallRecord}}()), false, -0.05129329438755058, 0.0, (5, false, 0.05, 0.95), true)], Any[true, false, true, false, true], (5, false, 0.05, 0.95), 5, 5, -0.2564664719377529, 0.0)</code></pre><p>This causes <code>foo</code> to be invoked five times. The resulting trace may contain the following random choices:</p><pre><code class="language-julia hljs">get_choices(trace)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">│
├── 1
│   │
│   └── :y : true
│
├── 2
│   │
│   └── :y : false
│
├── 3
│   │
│   └── :y : true
│
├── 4
│   │
│   └── :y : false
│
└── 5
    │
    └── :y : true
</code></pre><p>then the return value is:</p><pre><code class="language-julia hljs">get_retval(trace)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Persistent{Any}[true, false, true, false, true]</code></pre><h2 id="Switch-combinator"><a class="docs-heading-anchor" href="#Switch-combinator">Switch combinator</a><a id="Switch-combinator-1"></a><a class="docs-heading-anchor-permalink" href="#Switch-combinator" title="Permalink"></a></h2><div style="text-align:center">
    <img src="./images/switch_combinator.png" alt="schematic of switch combinator" width="100%"/>
</div><p>Consider the following constructions:</p><pre><code class="language-julia hljs">@gen function line(x)
    z ~ normal(3*x+1,1.0)
    return z
end

@gen function outlier(x)
    z ~ normal(3*x+1, 10.0)
    return z
end

switch_model = Switch(line, outlier)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Switch{Int64, 2, Tuple{DynamicDSLFunction{Any}, DynamicDSLFunction{Any}}, Any}((DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Any], false, Union{Nothing, Some{Any}}[nothing], Main.var&quot;##line#278&quot;, Bool[0], false), DynamicDSLFunction{Any}(Dict{Symbol, Any}(), Dict{Symbol, Any}(), Type[Any], false, Union{Nothing, Some{Any}}[nothing], Main.var&quot;##outlier#279&quot;, Bool[0], false)), Dict{Int64, Int64}())</code></pre><p>This creates a new generative function <code>switch_model</code> whose arguments take the form <code>(branch, args...)</code>. By default, branch is an integer indicating which generative function to execute. For example, branch <code>2</code> corresponds to <code>outlier</code>:</p><pre><code class="language-julia hljs">trace = simulate(switch_model, (2, 5.0))
get_choices(trace)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">│
└── :z : 15.146216831214357
</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gfi/">« Generative Function Interface</a><a class="docs-footer-nextpage" href="../particle_filter/">Object Tracking with Particle Filters »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Friday 6 September 2024 16:47">Friday 6 September 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
